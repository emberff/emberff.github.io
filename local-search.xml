<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>为linux服务器配置网络代理以及可视化面板</title>
    <link href="/2024/10/06/%E4%B8%BAlinux%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86%E4%BB%A5%E5%8F%8A%E5%8F%AF%E8%A7%86%E5%8C%96%E9%9D%A2%E6%9D%BF/"/>
    <url>/2024/10/06/%E4%B8%BAlinux%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86%E4%BB%A5%E5%8F%8A%E5%8F%AF%E8%A7%86%E5%8C%96%E9%9D%A2%E6%9D%BF/</url>
    
    <content type="html"><![CDATA[<blockquote><p>国内服务器要使用 <code>github</code> 克隆项目时实在太慢了! 还有等了半天结果克隆失败的情况,实在是恶心人, 因此决定用 clash 为服务器添加一个代理</p></blockquote><h1 id="服务器启动-Clash"><a href="#服务器启动-Clash" class="headerlink" title="服务器启动 Clash"></a>服务器启动 Clash</h1><p>参照 <a href="https://github.com/Elegycloud/clash-for-linux-backup?tab=readme-ov-file">clash-for-linux-backup</a> 项目的教程, 第一步是克隆项目.<br>找一个国内的镜像源进行克隆, 这里我用的是githubfast</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://githubfast.com/Elegycloud/clash-for-linux-backup.git<br></code></pre></td></tr></table></figure><p><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410061935377.png"><br>配置 <code>clash</code> 订阅地址, 在  <code>CLASH_URL</code> 处填入订阅地址, <code>CLASH_SECRET</code> 为在 <code>Dashboard</code> 的登陆密码,若不填则随机生成</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim clash-for-linux-backup/.env<br></code></pre></td></tr></table></figure><p><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410061940755.png"><br>为项目中的脚本添加可执行权限</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">cd clash-for-linux-<span class="hljs-keyword">backup</span><br><span class="hljs-keyword"></span>chmod +x start.<span class="hljs-keyword">sh </span><span class="hljs-keyword">shutdown.sh </span>restart.<span class="hljs-keyword">sh </span><br></code></pre></td></tr></table></figure><p>启动脚本, 保存生成的 <code>Secret</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./start.sh<br></code></pre></td></tr></table></figure><p><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410061945784.png"><br>启用代理</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">source</span> /etc/<span class="hljs-keyword">profile</span>.d/clash.<span class="hljs-keyword">sh</span><br>proxy_on<br></code></pre></td></tr></table></figure><p><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410061948952.png"><br>检查服务端口</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">netstat</span> -tln | grep -E &#x27;<span class="hljs-number">9090</span>|<span class="hljs-number">789</span>.&#x27;<br></code></pre></td></tr></table></figure><p><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410061949015.png"><br>检测环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">env</span> | grep -E <span class="hljs-string">&#x27;http_proxy|https_proxy&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410061950973.png"><br>均无问题则启动成功!</p><h1 id="修改配置以及关闭代理"><a href="#修改配置以及关闭代理" class="headerlink" title="修改配置以及关闭代理"></a>修改配置以及关闭代理</h1><h2 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h2><p>在 <code>conf/config.yaml</code> 修改配置, 完成后需要执行项目下 <code>restart.sh</code> 的脚本</p><h2 id="关闭代理"><a href="#关闭代理" class="headerlink" title="关闭代理"></a>关闭代理</h2><p>在项目目录下执行 <code>shutdown.sh</code> 脚本, 并刷新环境</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arduino">./shutdown.sh<br>proxy_off<br></code></pre></td></tr></table></figure><h1 id="Clash-Dashboard"><a href="#Clash-Dashboard" class="headerlink" title="Clash Dashboard"></a>Clash Dashboard</h1><p>首先要在云服务器厂商的服务器控制台将 <strong><code>9090</code> 端口放开</strong><br>接下来就可以在浏览器中访问服务器的 <code>Clash Dashboard</code> 了,地址为 <code>http://&lt;ip&gt;:9090/ui</code><br>在 <code>API Base URL</code> 中填入 <code>http://&lt;ip&gt;:9090</code>,在 <code>Secret(optional)</code> 一栏中输入启动成功后输出的 <code>Secret</code>, 然后点击 <code>ADD</code>, 然后就进入 <code>Dashboard</code> 界面了<br><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410062028254.png"><br><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410062032340.png"><br>其余的相关操作可以参考 <a href="https://github.com/haishanh/yacd?tab=readme-ov-file">yacd</a></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li><a href="https://github.com/Elegycloud/clash-for-linux-backup">clash-for-linux-backup</a></li><li><a href="https://github.com/haishanh/yacd?tab=readme-ov-file">yacd</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Clash</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo Fluid背景固定以及添加加载动画</title>
    <link href="/2024/10/04/Hexo-Fluid%E8%83%8C%E6%99%AF%E5%9B%BA%E5%AE%9A%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB/"/>
    <url>/2024/10/04/Hexo-Fluid%E8%83%8C%E6%99%AF%E5%9B%BA%E5%AE%9A%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="背景固定"><a href="#背景固定" class="headerlink" title="背景固定"></a>背景固定</h1><p>参考了<a href="https://qingshaner.com/Hexo%20Fluid%E4%B8%BB%E9%A2%98%E8%83%8C%E6%99%AF%E5%9B%BA%E5%AE%9A(ES6%E6%94%B9%E5%86%99%E7%89%88)%E4%B8%8E%E6%AF%9B%E7%8E%BB%E7%92%83%E5%BA%95%E9%A1%B5/#%E8%83%8C%E6%99%AF%E5%85%A8%E5%B1%8F%E5%9B%BA%E5%AE%9A">清山</a>的博客</p><ol><li>添加 <code>background.js</code> 文件<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-built_in">document</span><br>  .<span class="hljs-built_in">querySelector</span>(<span class="hljs-string">&#x27;#web_bg&#x27;</span>)<br>  .setAttribute(<span class="hljs-string">&#x27;style&#x27;</span>, `background-image: $&#123;<span class="hljs-built_in">document</span>.<span class="hljs-built_in">querySelector</span>(<span class="hljs-string">&#x27;.banner&#x27;</span>).style.background.split(<span class="hljs-string">&#x27; &#x27;</span>)[<span class="hljs-number">0</span>]&#125;;position: fixed;width: <span class="hljs-number">100</span>%;height: <span class="hljs-number">100</span>%;z-index: <span class="hljs-number">-1</span>;background-size: cover;`);<br><br><span class="hljs-built_in">document</span><br>  .<span class="hljs-built_in">querySelector</span>(<span class="hljs-string">&quot;#banner&quot;</span>)<br>  .setAttribute(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;background-image: url()&#x27;</span>)<br><br><span class="hljs-built_in">document</span><br>  .<span class="hljs-built_in">querySelector</span>(<span class="hljs-string">&quot;#banner .mask&quot;</span>)<br>  .setAttribute(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;background-color:rgba(0,0,0,0)&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li>在 <code>hexo</code> 中注入html<br>在 <code>Fluid</code>主题下由两种方式,一种是 <code>Hexo</code> 注入, 另一种方式是 <code>Fluid</code> 提供的注入方式, 注入方式是在博客文件根目录下新建一个 <code>scripts</code> 目录,在其中建立一个 <code>js</code> 文件, 详细可见 <a href="https://hexo.fluid-dev.com/docs/advance/#hexo-%E6%B3%A8%E5%85%A5%E4%BB%A3%E7%A0%81">Fluid官方文档</a><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">hexo.extend.injector.register(<span class="hljs-string">&quot;body_begin&quot;</span>, `&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;web_bg&quot;</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;`);<br>hexo.extend.injector.register(<span class="hljs-string">&quot;body_end&quot;</span>,`&lt;<span class="hljs-keyword">script</span> src=<span class="hljs-string">&quot;$&#123;siteRoot&#125;js/backgroundize.js&quot;</span>&gt;&lt;/<span class="hljs-keyword">script</span>&gt;`);<br></code></pre></td></tr></table></figure></li></ol><h1 id="添加加载动画"><a href="#添加加载动画" class="headerlink" title="添加加载动画"></a>添加加载动画</h1><p>我选择的加载动画是在 <a href="codepen.io">codepen.io</a> 中找的<a href="https://codepen.io/jackrugile/pen/JddmaX/">彩虹动画</a><br>当然,此处直接拿到的 <code>html</code> 与 <code>css</code> 都是不能<strong>直接使用</strong>的,还需要对样式进行处理,完整的代码如下: </p><ul><li>在 <code>html</code> 之上添加一个容器 <code>loader-container</code> 以包裹全部的样式:<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loader-container&quot;</span>&gt;</span> <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loader&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-inner&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line-wrap&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line-wrap&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line-wrap&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line-wrap&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line-wrap&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loader-line&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>在 <code>css</code> 中添加 <code>loader-container</code> 的样式,并确保所有动画均在最上层:<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-id">#loader-container</span> &#123;<br>   <span class="hljs-attribute">position</span>: fixed; <span class="hljs-comment">/* 或 absolute，根据需求 */</span><br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">z-index</span>: <span class="hljs-number">99999</span>; <span class="hljs-comment">/* 确保在最上层 */</span><br>   <span class="hljs-attribute">display</span>: flex;<br>   <span class="hljs-attribute">justify-content</span>: center;<br>   <span class="hljs-attribute">align-items</span>: center;<br>   <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.7</span>); <span class="hljs-comment">/* 可选：添加背景以增加可见性 */</span><br>&#125;<br><br><span class="hljs-selector-class">.loader</span>,<br><span class="hljs-selector-class">.loader-inner</span>,<br><span class="hljs-selector-class">.loader-line-wrap</span>,<br><span class="hljs-selector-class">.loader-line</span> &#123;<br>    <span class="hljs-attribute">position</span>: absolute; <span class="hljs-comment">/* 或 fixed，根据需要选择 */</span><br>    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">99999</span>; <span class="hljs-comment">/* 确保在最上层 */</span><br>&#125;<br><br><span class="hljs-selector-class">.loader</span> &#123;<br>   <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>;<br>   <span class="hljs-attribute">background</span>: <span class="hljs-built_in">radial-gradient</span>(<span class="hljs-number">#222</span>, <span class="hljs-number">#000</span>);<br>   <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">overflow</span>: hidden;<br>   <span class="hljs-attribute">position</span>: fixed;<br>   <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">z-index</span>: <span class="hljs-number">99999</span>;<br>&#125;<br><br><span class="hljs-selector-class">.loader-inner</span> &#123;<br>   <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>;<br>   <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">margin</span>: auto;<br>   <span class="hljs-attribute">position</span>: absolute;<br>   <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.loader-line-wrap</span> &#123;<br>   <span class="hljs-attribute">animation</span>: <br>     spin <span class="hljs-number">2000ms</span> <span class="hljs-built_in">cubic-bezier</span>(.<span class="hljs-number">175</span>, .<span class="hljs-number">885</span>, .<span class="hljs-number">32</span>, <span class="hljs-number">1.275</span>) infinite<br>  ;<br>   <span class="hljs-attribute">box-sizing</span>: border-box;<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;<br>   <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">overflow</span>: hidden;<br>   <span class="hljs-attribute">position</span>: absolute;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span> <span class="hljs-number">100%</span>;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>&#125;<br><span class="hljs-selector-class">.loader-line</span> &#123;<br>   <span class="hljs-attribute">border</span>: <span class="hljs-number">4px</span> solid transparent;<br>   <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">100%</span>;<br>   <span class="hljs-attribute">box-sizing</span>: border-box;<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>   <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>   <span class="hljs-attribute">position</span>: absolute;<br>   <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>&#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) &#123; <span class="hljs-attribute">animation-delay</span>: -<span class="hljs-number">50ms</span>; &#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>) &#123; <span class="hljs-attribute">animation-delay</span>: -<span class="hljs-number">100ms</span>; &#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>) &#123; <span class="hljs-attribute">animation-delay</span>: -<span class="hljs-number">150ms</span>; &#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">4</span>) &#123; <span class="hljs-attribute">animation-delay</span>: -<span class="hljs-number">200ms</span>; &#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">5</span>) &#123; <span class="hljs-attribute">animation-delay</span>: -<span class="hljs-number">250ms</span>; &#125;<br><br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) <span class="hljs-selector-class">.loader-line</span> &#123;<br>   <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">0</span>, <span class="hljs-number">80%</span>, <span class="hljs-number">60%</span>);<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">90px</span>;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">90px</span>;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">7px</span>;<br>&#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>) <span class="hljs-selector-class">.loader-line</span> &#123;<br>   <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">60</span>, <span class="hljs-number">80%</span>, <span class="hljs-number">60%</span>);<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">76px</span>;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">76px</span>;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">14px</span>;<br>&#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>) <span class="hljs-selector-class">.loader-line</span> &#123;<br>   <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">120</span>, <span class="hljs-number">80%</span>, <span class="hljs-number">60%</span>);<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">62px</span>;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">62px</span>;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">21px</span>;<br>&#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">4</span>) <span class="hljs-selector-class">.loader-line</span> &#123;<br>   <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">180</span>, <span class="hljs-number">80%</span>, <span class="hljs-number">60%</span>);<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">48px</span>;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">48px</span>;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">28px</span>;<br>&#125;<br><span class="hljs-selector-class">.loader-line-wrap</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">5</span>) <span class="hljs-selector-class">.loader-line</span> &#123;<br>   <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">hsl</span>(<span class="hljs-number">240</span>, <span class="hljs-number">80%</span>, <span class="hljs-number">60%</span>);<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">34px</span>;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">34px</span>;<br>   <span class="hljs-attribute">top</span>: <span class="hljs-number">35px</span>;<br>&#125;<br><br><span class="hljs-keyword">@keyframes</span> spin &#123;<br>   <span class="hljs-number">0%</span>, <span class="hljs-number">15%</span> &#123;<br>     <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0</span>);<br>  &#125;<br>  <span class="hljs-number">100%</span> &#123;<br>     <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p>将加载动画的 <code>html</code> 文件和 <code>css</code> 文件在本地建立对应的文件并引入<br>   <code>html</code> 以注入方式加载到 Fluid 中:</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">hexo.extend.<span class="hljs-built_in">filter</span>.register(<span class="hljs-string">&#x27;theme_inject&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">injects</span>) &#123;<br><br>  <span class="hljs-comment">// 页面加载动画  </span><br>  injects.bodyBegin.file(<span class="hljs-string">&#x27;loader&#x27;</span>, <span class="hljs-string">&#x27;source/html/loader.html&#x27;</span>);<br><br>  &#125;);<br></code></pre></td></tr></table></figure><ul><li>编写 <code>loader.js</code>, 使用 <code>jquery</code> 方式使网页加载完成后动画消失<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadScript</span>(<span class="hljs-params">url, callback</span>) &#123;<br>    <span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>);<br>    script.<span class="hljs-property">type</span> = <span class="hljs-string">&#x27;text/javascript&#x27;</span>;<br>    script.<span class="hljs-property">src</span> = url;<br><br>    script.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">callback</span>();<br>    &#125;;<br><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script);<br>&#125;<br><br><span class="hljs-comment">// 加载 jQuery</span><br><span class="hljs-title function_">loadScript</span>(<span class="hljs-string">&#x27;https://code.jquery.com/jquery-3.6.0.min.js&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        $(<span class="hljs-string">&quot;#loader-container&quot;</span>).<span class="hljs-title function_">fadeOut</span>(<span class="hljs-number">560</span>);<br>    &#125;);<br>&#125;);<br><br></code></pre></td></tr></table></figure>最后在 <code>_config.fluid.yml</code> 中引入 <code>loader.css</code> 和 <code>loader.js</code> 并执行 hexo 三联就完成加载动画的添加了</li></ul><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://qingshaner.com/Hexo%20Fluid%E4%B8%BB%E9%A2%98%E8%83%8C%E6%99%AF%E5%9B%BA%E5%AE%9A(ES6%E6%94%B9%E5%86%99%E7%89%88)%E4%B8%8E%E6%AF%9B%E7%8E%BB%E7%92%83%E5%BA%95%E9%A1%B5/#%E8%83%8C%E6%99%AF%E5%85%A8%E5%B1%8F%E5%9B%BA%E5%AE%9A">清山博客Fluid主题背景固定与毛玻璃底页</a><br><a href="https://hexo.fluid-dev.com/docs/advance/#hexo-%E6%B3%A8%E5%85%A5%E4%BB%A3%E7%A0%81">Fluid官方文档 注入代码</a><br><a href="https://blog.csdn.net/m0_66047725/article/details/129896812">CSDN 为你的网站加上Loading等待加载效果吧 | Loading页面加载添加教程</a><br><a href="codepen.io">codepen.io</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fluid主题添加Subtitle颜色渐变效果和鼠标点击特效</title>
    <link href="/2024/10/03/Fluid%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0Subtitle%E9%A2%9C%E8%89%B2%E6%B8%90%E5%8F%98%E6%95%88%E6%9E%9C%E5%92%8C%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%89%B9%E6%95%88/"/>
    <url>/2024/10/03/Fluid%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0Subtitle%E9%A2%9C%E8%89%B2%E6%B8%90%E5%8F%98%E6%95%88%E6%9E%9C%E5%92%8C%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%89%B9%E6%95%88/</url>
    
    <content type="html"><![CDATA[<h1 id="Slogan-颜色渐变"><a href="#Slogan-颜色渐变" class="headerlink" title="Slogan 颜色渐变"></a>Slogan 颜色渐变</h1><blockquote><p>在 <code>Fluid</code> 主题下,每个页面都有一个 <code>Slogan</code> 标题, 虽然 <code>Fluid</code> 本身提供了打字机特效,但白色的字体太过单薄,不适合我这种喜欢花里胡哨的人.</p></blockquote><p>要为 <code>Slogan</code>  添加颜色,其实就是编写一个 <code>css</code> 对原本的样式进行替换.在<a href="https://emoryhuang.cn/blog/1729600336.html#%E5%A4%B4%E9%83%A8%E6%89%93%E5%AD%97%E6%9C%BA%E9%A2%9C%E8%89%B2%E6%95%88%E6%9E%9C%E6%B8%90%E5%8F%98">emoryhuang</a>的博客中有对此进行修改的css,然而在这个css中只对<code>subtitle</code>的样式进行了修改,而没有为开启打字机后的游标进行修改.在 <code>hexo-them-fluid</code> 的 <code>css</code>中全局搜索 <code>#subtitle</code> ,我们可以找到下面的样式<br><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410031425808.png"><br>因此,只需要在博主提供的基础上再额外添加对于 <code>.typerd-cursor</code> 的样式修改即可</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* 打字机效果渐变 -bynote.cn*/</span><br><br><span class="hljs-selector-id">#subtitle</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(-<span class="hljs-number">45deg</span>, <span class="hljs-number">#ee7752</span>, <span class="hljs-number">#ce3e75</span>, <span class="hljs-number">#23a6d5</span>, <span class="hljs-number">#23d5ab</span>);<br>    <span class="hljs-attribute">background-size</span>: <span class="hljs-number">400%</span> <span class="hljs-number">400%</span>;<br>    -webkit-<span class="hljs-attribute">animation</span>: Gradient <span class="hljs-number">10s</span> ease infinite;<br>    -moz-<span class="hljs-attribute">animation</span>: Gradient <span class="hljs-number">10s</span> ease infinite;<br>    <span class="hljs-attribute">animation</span>: Gradient <span class="hljs-number">10s</span> ease infinite;<br>    -o-user-<span class="hljs-selector-tag">select</span>: none;<br>    -ms-user-<span class="hljs-selector-tag">select</span>: none;<br>    -webkit-user-<span class="hljs-selector-tag">select</span>: none;<br>    -moz-user-<span class="hljs-selector-tag">select</span>: none;<br>    user-<span class="hljs-selector-tag">select</span>: none;<br>    -webkit-<span class="hljs-attribute">background-clip</span>: text;<br>    -webkit-<span class="hljs-selector-tag">text</span>-<span class="hljs-attribute">fill</span>-<span class="hljs-attribute">color</span>: transparent;<br>    <span class="hljs-attribute">border-top-left-radius</span>: <span class="hljs-number">10px</span>;<br>    <span class="hljs-attribute">border-top-right-radius</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><br><span class="hljs-selector-id">#subtitle</span><span class="hljs-selector-pseudo">:before</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-comment">/* 以下为对游标样式的修改*/</span><br><span class="hljs-selector-class">.typed-cursor</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(-<span class="hljs-number">45deg</span>, <span class="hljs-number">#ee7752</span>, <span class="hljs-number">#ce3e75</span>, <span class="hljs-number">#23a6d5</span>, <span class="hljs-number">#23d5ab</span>);<br>    <span class="hljs-attribute">background-size</span>: <span class="hljs-number">400%</span> <span class="hljs-number">400%</span>;<br>    -webkit-<span class="hljs-attribute">animation</span>: Gradient <span class="hljs-number">10s</span> ease infinite;<br>    -moz-<span class="hljs-attribute">animation</span>: Gradient <span class="hljs-number">10s</span> ease infinite;<br>    <span class="hljs-attribute">animation</span>: Gradient <span class="hljs-number">10s</span> ease infinite;<br>    -webkit-<span class="hljs-attribute">background-clip</span>: text;<br>    -webkit-<span class="hljs-selector-tag">text</span>-<span class="hljs-attribute">fill</span>-<span class="hljs-attribute">color</span>: transparent;<br>    <span class="hljs-attribute">display</span>: inline-block; <span class="hljs-comment">/* 确保能够正确显示背景 */</span><br>    <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">5px</span>; <span class="hljs-comment">/* 可选：增加与文本的间距 */</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p>效果如下图<br><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410031431252.png"></p><h1 id="鼠标点击特效"><a href="#鼠标点击特效" class="headerlink" title="鼠标点击特效"></a>鼠标点击特效</h1><p>在 <a href="https://asteri5m.icu/archives/0c8538e7-5b5f-4897-8e8b-0cff84320473">Hexo&amp;Fluid魔改笔记</a> 博客中有提到如何添加三种鼠标的点击特效, 当然我最终选择的是这篇里没有提到的烟花爆炸特效.<br>参考 <a href="https://www.cnblogs.com/songhaixing/p/13754821.html">https://www.cnblogs.com/songhaixing/p/13754821.html</a> ,在此篇博客中提供了爆炸特效的<code>js</code>代码, 当然直接引用提供的 <code>cdn</code> 也是没有问题的,但是原版的特效范围太大了, 比较影响观感且点击产生的圆只有红色一种颜色, 因此我选择在本地新建文件再引用的方式添加特效.<br>提供的两个文件中 <a href="https://files.cnblogs.com/files/songhaixing/anime.min.js">anime.min.js</a> 是依赖库,不用做修改直接引用,<br>具体的动画参数均在 <a href="https://files.cnblogs.com/files/songhaixing/fireworks.js">fireworks.js</a> 中.<br>修改参数的位置以及在下面的代码中均已在注释处标明. 对于点击处产生的空心圆颜色的修改是在产生粒子时,统计各个颜色产生粒子的数量然后将颜色改为数量最少的粒子对应的颜色. </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">updateCoords</span>(<span class="hljs-params">e</span>) &#123;<br>  pointerX = (e.<span class="hljs-property">clientX</span> || e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientX</span>) - canvasEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">left</span>,<br>  pointerY = e.<span class="hljs-property">clientY</span> || e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientY</span> - canvasEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span>;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">setParticuleDirection</span>(<span class="hljs-params">e</span>) &#123;<br>  <span class="hljs-keyword">var</span> t = anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">360</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>,<br>      a = anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">35</span>, <span class="hljs-number">130</span>), <span class="hljs-comment">// 粒子扩散范围调整</span><br>      n = [-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>][anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)] * a;<br>  <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">x</span>: e.<span class="hljs-property">x</span> + n * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(t),<br>      <span class="hljs-attr">y</span>: e.<span class="hljs-property">y</span> + n * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t)<br>  &#125;;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">createParticule</span>(<span class="hljs-params">e, t</span>) &#123;<br>  <span class="hljs-keyword">var</span> a = &#123;&#125;;<br>  a.<span class="hljs-property">x</span> = e;<br>  a.<span class="hljs-property">y</span> = t;<br>  a.<span class="hljs-property">color</span> = colors[anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, colors.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>)];<br>  a.<span class="hljs-property">radius</span> = anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">11.2</span>, <span class="hljs-number">22.4</span>); <span class="hljs-comment">// 粒子效果圆半径</span><br>  a.<span class="hljs-property">endPos</span> = <span class="hljs-title function_">setParticuleDirection</span>(a);<br>  a.<span class="hljs-property">draw</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>      ctx.<span class="hljs-title function_">beginPath</span>();<br>      ctx.<span class="hljs-title function_">arc</span>(a.<span class="hljs-property">x</span>, a.<span class="hljs-property">y</span>, a.<span class="hljs-property">radius</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, !<span class="hljs-number">0</span>);<br>      ctx.<span class="hljs-property">fillStyle</span> = a.<span class="hljs-property">color</span>;<br>      ctx.<span class="hljs-title function_">fill</span>();<br>  &#125;;<br>  <span class="hljs-keyword">return</span> a;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCircle</span>(<span class="hljs-params">e, t, particleColors</span>) &#123;<br>    <span class="hljs-keyword">var</span> a = &#123;&#125;;<br>    a.<span class="hljs-property">x</span> = e;<br>    a.<span class="hljs-property">y</span> = t;<br>    a.<span class="hljs-property">radius</span> = <span class="hljs-number">0.1</span>;<br>    a.<span class="hljs-property">alpha</span> = <span class="hljs-number">0.5</span>;<br>    a.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">6</span>;<br>  <br>    <span class="hljs-comment">// 选择粒子颜色中数量最少的颜色</span><br>    <span class="hljs-keyword">var</span> colorCounts = &#123;&#125;;<br>    particleColors.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">color</span> =&gt;</span> &#123;<br>        colorCounts[color] = (colorCounts[color] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;<br>    &#125;);<br>  <br>    <span class="hljs-keyword">var</span> minColor = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(colorCounts).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> colorCounts[a] &lt; colorCounts[b] ? a : b);<br>  <br>    a.<span class="hljs-property">draw</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        ctx.<span class="hljs-property">globalAlpha</span> = a.<span class="hljs-property">alpha</span>;<br>        ctx.<span class="hljs-title function_">beginPath</span>();<br>        ctx.<span class="hljs-title function_">arc</span>(a.<span class="hljs-property">x</span>, a.<span class="hljs-property">y</span>, a.<span class="hljs-property">radius</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, <span class="hljs-literal">true</span>);<br>        ctx.<span class="hljs-property">lineWidth</span> = a.<span class="hljs-property">lineWidth</span>;<br>        ctx.<span class="hljs-property">strokeStyle</span> = minColor; <span class="hljs-comment">// 使用数量最少的颜色</span><br>        ctx.<span class="hljs-title function_">stroke</span>();<br>        ctx.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">1</span>;<br>    &#125;;<br>    <span class="hljs-keyword">return</span> a;<br>  &#125;<br>  <br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">renderParticule</span>(<span class="hljs-params">e</span>) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> t = <span class="hljs-number">0</span>; t &lt; e.<span class="hljs-property">animatables</span>.<span class="hljs-property">length</span>; t++)<br>      e.<span class="hljs-property">animatables</span>[t].<span class="hljs-property">target</span>.<span class="hljs-title function_">draw</span>();<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">animateParticules</span>(<span class="hljs-params">e, t</span>) &#123;<br>  <span class="hljs-keyword">var</span> particleColors = [];<br>  <span class="hljs-keyword">var</span> n = [];<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; numberOfParticules; i++) &#123;<br>      <span class="hljs-keyword">var</span> particule = <span class="hljs-title function_">createParticule</span>(e, t);<br>      n.<span class="hljs-title function_">push</span>(particule);<br>      particleColors.<span class="hljs-title function_">push</span>(particule.<span class="hljs-property">color</span>);<br>  &#125;<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-title function_">createCircle</span>(e, t, particleColors);<br>  <br>  anime.<span class="hljs-title function_">timeline</span>().<span class="hljs-title function_">add</span>(&#123;<br>      <span class="hljs-attr">targets</span>: n,<br>      <span class="hljs-attr">x</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>          <span class="hljs-keyword">return</span> e.<span class="hljs-property">endPos</span>.<span class="hljs-property">x</span>;<br>      &#125;,<br>      <span class="hljs-attr">y</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>          <span class="hljs-keyword">return</span> e.<span class="hljs-property">endPos</span>.<span class="hljs-property">y</span>;<br>      &#125;,<br>      <span class="hljs-attr">radius</span>: <span class="hljs-number">.1</span>,<br>      <span class="hljs-attr">duration</span>: anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">1200</span>, <span class="hljs-number">1800</span>),<br>      <span class="hljs-attr">easing</span>: <span class="hljs-string">&quot;easeOutExpo&quot;</span>,<br>      <span class="hljs-attr">update</span>: renderParticule<br>  &#125;).<span class="hljs-title function_">add</span>(&#123;<br>      <span class="hljs-attr">targets</span>: a,<br>      <span class="hljs-attr">radius</span>: anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">80</span>, <span class="hljs-number">160</span>) * <span class="hljs-number">0.5</span>, <span class="hljs-comment">// 空心圆半径</span><br>      <span class="hljs-attr">lineWidth</span>: <span class="hljs-number">0</span>,<br>      <span class="hljs-attr">alpha</span>: &#123;<br>          <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>,<br>          <span class="hljs-attr">easing</span>: <span class="hljs-string">&quot;linear&quot;</span>,<br>          <span class="hljs-attr">duration</span>: anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">600</span>, <span class="hljs-number">800</span>)<br>      &#125;,<br>      <span class="hljs-attr">duration</span>: anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">1200</span>, <span class="hljs-number">1800</span>),<br>      <span class="hljs-attr">easing</span>: <span class="hljs-string">&quot;easeOutExpo&quot;</span>,<br>      <span class="hljs-attr">update</span>: renderParticule,<br>      <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span><br>  &#125;);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>  <span class="hljs-keyword">var</span> timer;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">var</span> context = <span class="hljs-variable language_">this</span>;<br>      <span class="hljs-keyword">var</span> args = <span class="hljs-variable language_">arguments</span>;<br>      <span class="hljs-built_in">clearTimeout</span>(timer);<br>      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>          fn.<span class="hljs-title function_">apply</span>(context, args);<br>      &#125;, delay);<br>  &#125;;<br>&#125;<br><br><span class="hljs-keyword">var</span> canvasEl = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.fireworks&quot;</span>);<br><span class="hljs-keyword">if</span> (canvasEl) &#123;<br>  <span class="hljs-keyword">var</span> ctx = canvasEl.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>),<br>      numberOfParticules = <span class="hljs-number">30</span>,<br>      pointerX = <span class="hljs-number">0</span>,<br>      pointerY = <span class="hljs-number">0</span>,<br>      tap = <span class="hljs-string">&quot;mousedown&quot;</span>,<br>      colors = [<span class="hljs-string">&quot;#FF1461&quot;</span>, <span class="hljs-string">&quot;#18FF92&quot;</span>, <span class="hljs-string">&quot;#5A87FF&quot;</span>, <span class="hljs-string">&quot;#FBF38C&quot;</span>],<br>      setCanvasSize = <span class="hljs-title function_">debounce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>          canvasEl.<span class="hljs-property">width</span> = <span class="hljs-number">2</span> * <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,<br>          canvasEl.<span class="hljs-property">height</span> = <span class="hljs-number">2</span> * <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,<br>          canvasEl.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> + <span class="hljs-string">&quot;px&quot;</span>,<br>          canvasEl.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> + <span class="hljs-string">&quot;px&quot;</span>,<br>          canvasEl.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>).<span class="hljs-title function_">scale</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>);<br>      &#125;, <span class="hljs-number">500</span>),<br>      render = <span class="hljs-title function_">anime</span>(&#123;<br>          <span class="hljs-attr">duration</span>: <span class="hljs-number">1</span> / <span class="hljs-number">0</span>,<br>          <span class="hljs-attr">update</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>              ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvasEl.<span class="hljs-property">width</span>, canvasEl.<span class="hljs-property">height</span>);<br>          &#125;<br>      &#125;);<br><br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(tap, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;sidebar&quot;</span> !== e.<span class="hljs-property">target</span>.<span class="hljs-property">id</span> &amp;&amp; <span class="hljs-string">&quot;toggle-sidebar&quot;</span> !== e.<span class="hljs-property">target</span>.<span class="hljs-property">id</span> &amp;&amp; <span class="hljs-string">&quot;A&quot;</span> !== e.<span class="hljs-property">target</span>.<span class="hljs-property">nodeName</span> &amp;&amp; <span class="hljs-string">&quot;IMG&quot;</span> !== e.<span class="hljs-property">target</span>.<span class="hljs-property">nodeName</span>) &#123;<br>          render.<span class="hljs-title function_">play</span>();<br>          <span class="hljs-title function_">updateCoords</span>(e);<br>          <span class="hljs-title function_">animateParticules</span>(pointerX, pointerY);<br>      &#125;<br>  &#125;, !<span class="hljs-number">1</span>),<br>  <span class="hljs-title function_">setCanvasSize</span>(),<br>  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;resize&quot;</span>, setCanvasSize, !<span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>修改完代码后在配置文件的 <code>csutom_js</code> 中引入两个 <code>js</code> 文件, 然后在  <code>custom_html</code> 处引入画布:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 鼠标点击特效 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fireworks&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;position:fixed;left:0;top:0;z-index:99999999;pointer-events:none;&quot;</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span><br></code></pre></td></tr></table></figure><p>效果如下<br><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410031640155.gif"></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li>打字机颜色渐变 <a href="https://emoryhuang.cn/blog/1729600336.html#%E5%A4%B4%E9%83%A8%E6%89%93%E5%AD%97%E6%9C%BA%E9%A2%9C%E8%89%B2%E6%95%88%E6%9E%9C%E6%B8%90%E5%8F%98">https://emoryhuang.cn/blog/1729600336.html#%E5%A4%B4%E9%83%A8%E6%89%93%E5%AD%97%E6%9C%BA%E9%A2%9C%E8%89%B2%E6%95%88%E6%9E%9C%E6%B8%90%E5%8F%98</a></li><li>🌟博客园鼠标点击爆炸烟花特效 <a href="https://www.cnblogs.com/songhaixing/p/13754821.html">https://www.cnblogs.com/songhaixing/p/13754821.html</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo+Fluid主题博客美化</title>
    <link href="/2024/10/02/Hexo-Fluid%E4%B8%BB%E9%A2%98%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/"/>
    <url>/2024/10/02/Hexo-Fluid%E4%B8%BB%E9%A2%98%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<blockquote><p>搭建完了博客,第一步当然是对博客进行美化.简单记录一下我对自己博客的美化过程</p></blockquote><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>对于博客配置的修改,若无特殊说明均在 <code>_config.fluid.yml</code> 文件内<br>对于资源的修改,均在博客<strong>根目录</strong>下 <code>source</code> 目录中,而不是 <code>fluid</code> 主题内部的 <code>source</code><br><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410021033228.png"></p><p>在根据 Fluid 配置文件的说明,在 <code>custom_js</code> 和 <code>custom_css</code> 中的文件路径相对 <code>source</code> 目录，如 <code>/js/custom.js</code> 对应存放目录 <code>source/js/custom.js</code> ,因此在 <code>source</code> 目录内添加 <code>js</code> 和 <code>css</code> 两个目录,按照如图所示的格式在配置文件中引入<br><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410022221494.png"></p><h1 id="页脚添加建站时间"><a href="#页脚添加建站时间" class="headerlink" title="页脚添加建站时间"></a>页脚添加建站时间</h1><p>在 <code>js</code> 目录下新建 <code>duration.js</code> 文件 </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> startDate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&quot;2024-09-26T12:00:00&quot;</span>); <span class="hljs-comment">// 使用 ISO 格式的日期,在此处修改你网站的建立时间</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">createTime</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>    <span class="hljs-keyword">var</span> elapsed = now - startDate;<br><br>    <span class="hljs-keyword">var</span> days = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(elapsed / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">24</span>));<br>    <span class="hljs-keyword">var</span> hours = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((elapsed % (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">24</span>)) / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>));<br>    <span class="hljs-keyword">var</span> minutes = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((elapsed % (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>)) / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span>));<br>    <span class="hljs-keyword">var</span> seconds = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((elapsed % (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span>)) / <span class="hljs-number">1000</span>);<br><br>    <span class="hljs-comment">// 格式化为两位数</span><br>    hours = <span class="hljs-title class_">String</span>(hours).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br>    minutes = <span class="hljs-title class_">String</span>(minutes).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br>    seconds = <span class="hljs-title class_">String</span>(seconds).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;timeDate&quot;</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;本站已在夹缝中生存 &quot;</span> + days + <span class="hljs-string">&quot; 天 &quot;</span>; <span class="hljs-comment">// 在这里修改你的建站时间文本</span><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;times&quot;</span>).<span class="hljs-property">innerHTML</span> = hours + <span class="hljs-string">&quot; 小时 &quot;</span> + minutes + <span class="hljs-string">&quot; 分 &quot;</span> + seconds + <span class="hljs-string">&quot; 秒&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">// 每 250 毫秒更新一次</span><br><span class="hljs-built_in">setInterval</span>(createTime, <span class="hljs-number">250</span>);<br></code></pre></td></tr></table></figure><p>在配置文件的 <code>footer</code> 处添加下面的内容:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 博客上线天数 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;timeDate&quot;</span>&gt;</span>载入天数...<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;times&quot;</span>&gt;</span>载入时分秒...<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/duration.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>然后就编译运行就可以看到效果了<br><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410022233001.png"></p><h1 id="添加一言功能"><a href="#添加一言功能" class="headerlink" title="添加一言功能"></a>添加一言功能</h1><p>如果时想在页脚添加,参照<a href="https://developer.hitokoto.cn/sentence/demo.html">一言官方文档</a>给出的示例,只需要直接在 <code>footer</code> 下添加以下内容</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;statistics&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://developer.hitokoto.cn/&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;hitokoto_text&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;hitokoto&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://v1.hitokoto.cn/?c=h&amp;c=i&amp;c=k&amp;encode=js&amp;select=%23hitokoto&quot;</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>当然,也可以用一言替代博客Slogan(首页标题文字)的随机语句,这在 <a href="https://hexo.fluid-dev.com/docs/guide/#slogan-%E6%89%93%E5%AD%97%E6%9C%BA">Fluid的官方文档</a>中有给出示例,仅需将 <code>api</code> 条目下的 <code>false</code> 改为 <code>true</code> 即可</p><h1 id="标签恶搞"><a href="#标签恶搞" class="headerlink" title="标签恶搞"></a>标签恶搞</h1><p>在离开页面时标签页显示崩溃或其他文本的恶搞功能,直接照搬 <a href="https://asteri5m.icu/archives/0c8538e7-5b5f-4897-8e8b-0cff84320473">Asteri5m</a>博客中给出的代码<br>在 <code>custom_js</code> 中引入以下 <code>js</code> 代码文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 浏览器搞笑标题</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">OriginTitle</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span>;<br><span class="hljs-keyword">var</span> titleTime;<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;visibilitychange&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">hidden</span>) &#123;<br>$(<span class="hljs-string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&quot;/funny.ico&quot;</span>);<br><span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;╭(°A°`)╮ 页面崩溃啦 ~&#x27;</span>;<br><span class="hljs-built_in">clearTimeout</span>(titleTime);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>$(<span class="hljs-string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&quot;/img/newtubiao.png&quot;</span>);<br><span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;(ฅ&gt;ω&lt;*ฅ) 噫又好啦 ~&#x27;</span> + <span class="hljs-title class_">OriginTitle</span>;<br>titleTime = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-title class_">OriginTitle</span>;<br>&#125;, <span class="hljs-number">2000</span>);<br>&#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li>Fluid官方文档 <a href="https://hexo.fluid-dev.com/docs/guide/">https://hexo.fluid-dev.com/docs/guide/</a></li><li>Asteri5m博客 <a href="https://asteri5m.icu/archives/0c8538e7-5b5f-4897-8e8b-0cff84320473">https://asteri5m.icu/archives/0c8538e7-5b5f-4897-8e8b-0cff84320473</a></li><li>一言开发者中心 <a href="https://developer.hitokoto.cn/sentence/">https://developer.hitokoto.cn/sentence/</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo + Fluid博客搭建</title>
    <link href="/2024/10/01/hexo-fluid%E6%90%AD%E5%BB%BA/"/>
    <url>/2024/10/01/hexo-fluid%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<blockquote><p>作为一个学计算机的人,不做个人博客就像四大名著不看红楼梦……<br>简单的折腾几天也是终于把样子搭好了!下面简单记录一下搭建的过程.</p></blockquote><h1 id="1-hexo-的本地环境搭建"><a href="#1-hexo-的本地环境搭建" class="headerlink" title="1. hexo 的本地环境搭建"></a>1. hexo 的本地环境搭建</h1><p>hexo本地环境需要<code>Nodejs</code>和<code>git</code>,<code>nodejs</code>作用是在本地编译,<code>git</code>是将编译完成的文件上传到仓库,由于我很早就完成了安装,且网上教程很多,此处不再赘述.</p><p>(1) 在需要的环境配置完成后,使用npm安装heox</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install -g hexo-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure><p>(2) 在命令行中选择一个文件夹进行初始化.下面的命令会在当前目录中创建一个blog的文件夹,并在其中配置相关依赖</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">hexo <span class="hljs-keyword">init</span> blog<br></code></pre></td></tr></table></figure><p>(3) 进入文件夹并安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> blog<br>npm i<br></code></pre></td></tr></table></figure><p>等待安装完成后,blog中会出现如下文件:<br>![alt text]<img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/20241001202737.png"></p><p>(4) 直接使用hexo提供的命令就能在本地看到博客的界面了</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs axapta">hexo <span class="hljs-keyword">server</span><br></code></pre></td></tr></table></figure><p>![alt text]<img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410012030784.png"></p><h1 id="2-在服务器部署-Debain"><a href="#2-在服务器部署-Debain" class="headerlink" title="2. 在服务器部署(Debain)"></a>2. 在服务器部署(Debain)</h1><blockquote><p>Debain的包管理工具为apt, 若使用的是其他Linux发行版,只要把安装的指令切换成对应发行版的包管理工具即可,流程是相同的</p></blockquote><h2 id="1-在服务器的控制台中修改策略组-开放以下端口"><a href="#1-在服务器的控制台中修改策略组-开放以下端口" class="headerlink" title="(1) 在服务器的控制台中修改策略组,开放以下端口"></a>(1) 在服务器的控制台中修改策略组,开放以下端口</h2><p>22: 用于 git 的远程连接,在执行<code>hexo delpoy</code>部署时需要用到<br>80: http 连接使用的端口<br>443: https 连接使用的端口</p><h2 id="2-配置-Nginx"><a href="#2-配置-Nginx" class="headerlink" title="(2) 配置 Nginx"></a>(2) 配置 Nginx</h2><p>安装 nginx:</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">apt <span class="hljs-keyword">install</span> nginx<br></code></pre></td></tr></table></figure><p>启动 nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl start nginx<br></code></pre></td></tr></table></figure><p>创建一个证书存储目录,并将证书相关文件将证书文件(<code>.pem</code>以及<code>.key</code>文件)添加进去:</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkdir <span class="hljs-regexp">/etc/</span>nginx<span class="hljs-regexp">/conf.d/</span>cert<br></code></pre></td></tr></table></figure><p>先建立一个hexo工作目录,此目录为博客推送后实际存储的位置(根目录):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /var/www/hexo<br></code></pre></td></tr></table></figure><p>![alt text]<img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410012031287.png"></p><p>配置 nginx 路由</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vi</span> /etc/nginx/<span class="hljs-keyword">conf</span>.d/blog.<span class="hljs-keyword">conf</span><br></code></pre></td></tr></table></figure><p>输入以下内容:<br>其中<code>server_name</code>可填写域名,若无则填写服务器的公网ip</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> &#123;<br>    <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span> default_server;<br>    <span class="hljs-attribute">listen</span> [::]:<span class="hljs-number">80</span> default_server;<br>    <span class="hljs-attribute">server_name</span> blog.xxx.com; <br><br>    <span class="hljs-comment"># 强制重定向所有 HTTP 请求到 HTTPS</span><br>    <span class="hljs-attribute">return</span> <span class="hljs-number">301</span> https://<span class="hljs-variable">$host</span><span class="hljs-variable">$request_uri</span>;<br>&#125;<br><br><span class="hljs-section">server</span> &#123;<br>    <span class="hljs-attribute">listen</span> <span class="hljs-number">443</span> ssl;<br>    <span class="hljs-attribute">server_name</span> blog.xxx.com;<br><br>    <span class="hljs-comment"># 修改为正确的证书文件路径</span><br>    <span class="hljs-attribute">ssl_certificate</span> /etc/nginx/conf.d/cert/blog.emb42.com_bundle.pem;<br>    <span class="hljs-attribute">ssl_certificate_key</span> /etc/nginx/conf.d/cert/blog.emb42.com.key;<br><br>    <span class="hljs-attribute">ssl_session_cache</span> shared:SSL:<span class="hljs-number">1m</span>;<br>    <span class="hljs-attribute">ssl_session_timeout</span> <span class="hljs-number">5m</span>;<br><br>    <span class="hljs-attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;<br>    <span class="hljs-attribute">ssl_protocols</span> TLSv1.<span class="hljs-number">2</span> TLSv1.<span class="hljs-number">3</span>;<br><br>    <span class="hljs-attribute">ssl_prefer_server_ciphers</span> <span class="hljs-literal">on</span>;<br><br>    <span class="hljs-attribute">root</span> /var/www/hexo; <span class="hljs-comment"># 博客存储的根目录</span><br>    <span class="hljs-attribute">index</span> index.html;  <span class="hljs-comment"># 默认首页文件</span><br><br>    <span class="hljs-section">location</span> / &#123;<br>        <span class="hljs-attribute">try_files</span> <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.html;  <span class="hljs-comment"># 处理请求</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>检查语法并重新加载 nginx</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">nginx -t</span><br><span class="hljs-attribute">nginx -s reload</span><br></code></pre></td></tr></table></figure><h2 id="3-安装-Nodejs"><a href="#3-安装-Nodejs" class="headerlink" title="(3) 安装 Nodejs"></a>(3) 安装 Nodejs</h2><p>依次执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -fsSL https://deb.nodesource.com/setup_18.x | <span class="hljs-built_in">sudo</span> -E bash -<br><span class="hljs-built_in">sudo</span> apt install -y nodejs<br></code></pre></td></tr></table></figure><p>查看安装结果，打印对应版本号则安装成功</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">-v</span><br>npm -v<br></code></pre></td></tr></table></figure><h2 id="4-Git服务器配置"><a href="#4-Git服务器配置" class="headerlink" title="(4) Git服务器配置"></a>(4) Git服务器配置</h2><h3 id="修改git用户权限"><a href="#修改git用户权限" class="headerlink" title="修改git用户权限"></a>修改git用户权限</h3><p>安装 git:</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">apt <span class="hljs-keyword">install</span> git <br></code></pre></td></tr></table></figure><p>添加 git 用户:</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">adduser git</span><br></code></pre></td></tr></table></figure><p>修改用户权限:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> 740 /etc/sudoers<br></code></pre></td></tr></table></figure><p>编辑<code>/etc/sudoers</code>,添加<code>git ALL=(ALL) ALL</code>,修改git用户权限:</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vi <span class="hljs-regexp">/etc/</span>sudoers<br></code></pre></td></tr></table></figure><p>先按<code>i</code>进入编辑模式,添加语句<br>![alt text]<img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410012031908.png"><br>按<code>esc</code>然后输入<code>:wq</code>保存退出.<br>设置 git 用户密码:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> passwd git<br></code></pre></td></tr></table></figure><p>Linux中输入密码时是不显示<code>***</code>样式的,正常输入即可</p><h3 id="配置-ssh-连接"><a href="#配置-ssh-连接" class="headerlink" title="配置 ssh 连接"></a>配置 ssh 连接</h3><blockquote><p>目的是以后使用<code>hexo deploy</code>部署时不用每次都输入密码</p></blockquote><p>切换至<code>git</code>用户,在<code>~</code>目录下创建.ssh文件夹</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">su git<br><span class="hljs-keyword">cd</span> ~<br>mkdir <span class="hljs-string">.ssh</span><br><span class="hljs-keyword">cd</span> <span class="hljs-string">.ssh</span><br></code></pre></td></tr></table></figure><p>创建公钥,执行命令后无需输入,只要按回车即可<br><code>.ssh</code>文件下会生成一个<code>authorized_keys</code>的文件</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ssh-keygen</span><br></code></pre></td></tr></table></figure><p><img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410012032052.png"><br>修改其权限:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> 600 ~/.ssh/authorized_keys<br><span class="hljs-built_in">chmod</span> 700 ~/.ssh<br></code></pre></td></tr></table></figure><p>将本地电脑上的公钥<code>id_rsa.pub</code>文件中的内容添加至<code>authorized_keys</code>中<br>后,在本地命令给中尝试与服务器进行 ssh 连接,无报错且成功显示服务器的bash则成功</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">ssh -v <span class="hljs-symbol">git@</span>服务器ip<br></code></pre></td></tr></table></figure><p>![alt text]<img src="https://blog-1318796820.cos.ap-shanghai.myqcloud.com/blog/202410012032956.png"></p><h3 id="创建服务器-Git-仓库"><a href="#创建服务器-Git-仓库" class="headerlink" title="创建服务器 Git 仓库"></a>创建服务器 Git 仓库</h3><p>建立一个repo目录并初始化<code>blog.git</code>仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /var/repo <br>git init --bare /var/repo/blog.git<br></code></pre></td></tr></table></figure><p>创建并编辑 post-receice</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vi <span class="hljs-regexp">/var/</span>repo<span class="hljs-regexp">/blog.git/</span>hooks/post-receive<br></code></pre></td></tr></table></figure><p>添加以下内容,其功能为在blog.git接收到推送时强制将推送的内容部署到<code>/var/www/hexo</code>目录下:<br>(tips:也就是说如果推送了但网站没有更新,可以在服务器中手动执行此命令以部署):</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy">git --work-tree=<span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/hexo --git-dir=/</span><span class="hljs-keyword">var</span><span class="hljs-regexp">/repo/</span>blog.git checkout -f<br></code></pre></td></tr></table></figure><p>保存退出并添加可执行权限:</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">chmod +x <span class="hljs-regexp">/var/</span>repo<span class="hljs-regexp">/blog.git/</span>hooks/post-receive<br></code></pre></td></tr></table></figure><p>为仓库添加权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chown</span> -R git:git /var/repo     <span class="hljs-comment">#将仓库目录的所有权移交给git用户</span><br><span class="hljs-built_in">chown</span> -R git:git /var/www/hexo     <span class="hljs-comment">#将hexo部署目录的所有权移交给git用户</span><br></code></pre></td></tr></table></figure><h1 id="3-在本地配置服务器信息"><a href="#3-在本地配置服务器信息" class="headerlink" title="3. 在本地配置服务器信息"></a>3. 在本地配置服务器信息</h1><p>打开bolg文件目录中的配置文件<code>config.yml</code>,在最下面的<code>deploy</code>中修改配置信息,其中<code>repo</code>若无域名则以ip替代,<code>:</code>后填写服务器下git目录的位置:</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repo:</span> git@blog.xxx.com:<span class="hljs-keyword">/var/</span>repo/blog.git<br><span class="hljs-symbol">  branch:</span> master<br></code></pre></td></tr></table></figure><p>完成后用命令行在本地博客的根目录位置执行部署命令,应该能在服务器&#x2F;var&#x2F;www&#x2F;hexo目录中看到相应的内容,并且访问服务器可以看到博客界面了</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo d</span><br></code></pre></td></tr></table></figure><h1 id="4-修改-Hexo-主题"><a href="#4-修改-Hexo-主题" class="headerlink" title="4. 修改 Hexo 主题"></a>4. 修改 Hexo 主题</h1><h2 id="安装Fluid主题"><a href="#安装Fluid主题" class="headerlink" title="安装Fluid主题"></a>安装Fluid主题</h2><p>进入博客目录执行</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install <span class="hljs-comment">--save hexo-theme-fluid</span><br></code></pre></td></tr></table></figure><p>然后在博客目录下创建 _config.fluid.yml，将Fluid主题的 _config.yml (opens new window)内容复制过去</p><h2 id="指定主题"><a href="#指定主题" class="headerlink" title="指定主题"></a>指定主题</h2><p>修改本地_config.yml中的配置:</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">theme:</span> fluid  <span class="hljs-meta"># 指定主题</span><br><br><span class="hljs-symbol">language:</span> <span class="hljs-built_in">zh</span>-CN  <span class="hljs-meta"># 指定语言，会影响主题显示的语言，按需修改</span><br></code></pre></td></tr></table></figure><h2 id="创建关于页"><a href="#创建关于页" class="headerlink" title="创建关于页"></a>创建关于页</h2><p>首次使用主题的「关于页」需要手动创建：</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">hexo <span class="hljs-keyword">new</span> page about<br></code></pre></td></tr></table></figure><p>创建成功后修改 &#x2F;source&#x2F;about&#x2F;index.md，添加 layout 属性。</p><p>修改后的文件示例如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">标题</span><br><span class="hljs-attr">layout:</span> <span class="hljs-string">about</span><br><span class="hljs-meta">---</span><br><span class="hljs-meta"></span><br><span class="hljs-string">这里写关于页的正文，支持</span> <span class="hljs-string">Markdown,</span> <span class="hljs-string">HTML</span><br></code></pre></td></tr></table></figure><p>完成后执行 hexo 命令本地检查是否切换成功:</p><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sas">hexo cl <span class="hljs-variable">&amp;&amp;</span> hexo g <span class="hljs-variable">&amp;&amp;</span> hexo s<br></code></pre></td></tr></table></figure><p>主题成功切换后部署至服务器</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo d</span><br></code></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li>Fluid官方文档 <a href="https://fluid-dev.github.io/hexo-fluid-docs/start/">https://fluid-dev.github.io/hexo-fluid-docs/start/</a></li><li>Hexo官方文档 <a href="https://hexo.io/zh-cn/docs/#%E5%AE%89%E8%A3%85-Hexo">https://hexo.io/zh-cn/docs/#%E5%AE%89%E8%A3%85-Hexo</a></li><li>博客部署教程 <a href="https://developer.aliyun.com/article/815625">https://developer.aliyun.com/article/815625</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
